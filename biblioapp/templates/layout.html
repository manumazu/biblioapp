{% extends "base.html" %}

{% block head %}
  <meta charset="utf-8" />
  {{ super() }}
{% endblock %}

{% block styles %}
{{super()}}
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <!--link rel="stylesheet" href="{{url_for('static', filename='bootstrap.css')}}"-->
    <link rel="stylesheet" href="{{url_for('static', filename='app.css')}}">
{% endblock %}

{% block body %}

{% block navbar %}
  {{ super() }}

	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
	     <a class="navbar-brand" href="/">Biblio App</a>
	     <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
    		<span class="navbar-toggler-icon"></span>
  		</button>

	    <div class="collapse navbar-collapse" id="navbarColor01">
		{% if user_login %}	    	
		    <ul class="navbar-nav mr-auto">	      	
			<li class="nav-item active"><a class="nav-link" href="#">Welcome {{ user_login }}<span class="sr-only">(current)</span> !!</a></li>
			<li><a class="nav-link" href="{{ url_for('logout') }}">Logout</a></li>
			{% if biblio_name != None and biblio_name|length > 0 %}
				<li class="nav-item"><a class="nav-link" href="{{ url_for('searchBookReference') }}">Add new reference</a></li>
				<li class="nav-item"><a class="nav-link" href="{{ url_for('myBookShelf') }}">My "{{ biblio_name }}" Book Shelf</a></li>
			    <li class="nav-item"><a class="nav-link" href="{{ url_for('listAuthors') }}">Authors</a></li>
			    <li class="nav-item"><a class="nav-link" href="{{ url_for('listCategories') }}">Categories</a></li>
			{% endif %}				    
			    <li class="nav-item"><a class="nav-link" href="{{ url_for('customCodes') }}">Code</a></li>		
	      </ul>
	      <form class="form-inline my-2 my-lg-0" role="search" action="{{ url_for('searchBookReference') }}" method="POST">
			<div class="form-group">
			  <input class="form-control mr-sm-2" placeholder="Add new reference" type="text" name="query">
			</div>
			<button type="submit" class="btn btn-secondary my-2 my-sm-0">Submit</button>
	    </form>
		{% else %}
		<ul class="navbar-nav mr-auto">
			<li class="nav-item"><a class="nav-link" href="{{ url_for('login') }}">Login</a></li>
			<li class="nav-item"><a class="nav-link" href="{{ url_for('signUp') }}">Sign up</a></li>
		</ul>
		{% endif %}	    
	  </div>
	</nav>

	{% with messages = get_flashed_messages() %}
	{% if messages %}
	    {% for m in messages %}
	    <div class="alert alert-dismissible alert-success">
		<button type="button" class="close" data-dismiss="alert">&times;</button>
		<a href="#" class="alert-link">{{ m }}</a>.
		</div>
	    {% endfor %}
	{% endif %}
	{% endwith %}

{% endblock %}

{% block scripts %}
{{ super() }}
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
{% endblock %}

{% endblock %}
